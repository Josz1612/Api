<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoMarket: Gu√≠a de Apoyo para Estudiantes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Colores pastel modernos */
            --pastel-blue: #E8F4FD;
            --pastel-green: #E8F5E8;
            --pastel-yellow: #FFF8E1;
            --pastel-pink: #FCE4EC;
            --pastel-purple: #F3E5F5;
            --pastel-orange: #FFF3E0;
            
            /* Colores de acento */
            --blue-accent: #2196F3;
            --green-accent: #4CAF50;
            --yellow-accent: #FF9800;
            --pink-accent: #E91E63;
            --purple-accent: #9C27B0;
            --orange-accent: #FF5722;
            
            /* Colores de texto */
            --text-dark: #2E2E2E;
            --text-medium: #5A5A5A;
            --text-light: #8A8A8A;
            
            /* Espaciado */
            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;
            
            /* Bordes */
            --border-radius: 12px;
            --border-radius-lg: 20px;
            
            /* Sombras */
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 16px rgba(0,0,0,0.1);
            --shadow-lg: 0 8px 32px rgba(0,0,0,0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: linear-gradient(135deg, var(--pastel-green) 0%, var(--pastel-blue) 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-lg);
        }

        /* Header */
        .header {
            text-align: center;
            padding: var(--spacing-xl) 0;
            margin-bottom: var(--spacing-lg);
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: var(--spacing-sm);
            background: linear-gradient(135deg, var(--green-accent), var(--blue-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            color: var(--text-medium);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Navegaci√É¬≥n de secciones */
        .section-nav {
            display: flex;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
            overflow-x: auto;
            padding: var(--spacing-sm);
        }

        .section-nav-btn {
            background: white;
            border: 2px solid transparent;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--border-radius);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            min-width: 180px;
            text-align: center;
        }

        .section-nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .section-nav-btn.active {
            background: var(--green-accent);
            color: white;
        }

        .section-nav-btn.metodologia { border-color: var(--green-accent); }
        .section-nav-btn.tecnica { border-color: var(--blue-accent); }
        .section-nav-btn.ia-prompts { border-color: var(--purple-accent); }
        .section-nav-btn.debugging { border-color: var(--orange-accent); }

        /* Tarjetas de secci√É¬≥n */
        .section-card {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-lg);
            display: none;
            animation: fadeInUp 0.5s ease forwards;
        }

        .section-card.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 3px solid;
        }

        .section-icon {
            width: 60px;
            height: 60px;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            font-weight: bold;
        }

        .metodologia .section-header { border-color: var(--green-accent); }
        .metodologia .section-icon { background: var(--green-accent); }

        .tecnica .section-header { border-color: var(--blue-accent); }
        .tecnica .section-icon { background: var(--blue-accent); }

        .ia-prompts .section-header { border-color: var(--purple-accent); }
        .ia-prompts .section-icon { background: var(--purple-accent); }

        .debugging .section-header { border-color: var(--orange-accent); }
        .debugging .section-icon { background: var(--orange-accent); }

        .section-title {
            flex: 1;
        }

        .section-title h2 {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        /* Elementos especiales */
        .learning-tip {
            background: var(--pastel-green);
            border-left: 4px solid var(--green-accent);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            margin: var(--spacing-md) 0;
        }

        .learning-tip h3 {
            color: var(--green-accent);
            margin-bottom: var(--spacing-xs);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .warning-box {
            background: var(--pastel-orange);
            border-left: 4px solid var(--orange-accent);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            margin: var(--spacing-md) 0;
        }

        .warning-box h3 {
            color: var(--orange-accent);
            margin-bottom: var(--spacing-xs);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .tip-box {
            background: var(--pastel-purple);
            border-left: 4px solid var(--purple-accent);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            margin: var(--spacing-md) 0;
        }

        .tip-box h3 {
            color: var(--purple-accent);
            margin-bottom: var(--spacing-xs);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .ai-prompt-box {
            background: var(--pastel-pink);
            border-left: 4px solid var(--pink-accent);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            margin: var(--spacing-md) 0;
        }

        .ai-prompt-box h3 {
            color: var(--pink-accent);
            margin-bottom: var(--spacing-xs);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        /* Bloques de c√É¬≥digo */
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: var(--spacing-md) 0;
            position: relative;
        }

        .code-header {
            background: #2d2d2d;
            color: #fff;
            padding: var(--spacing-xs) var(--spacing-md);
            margin: calc(-1 * var(--spacing-md)) calc(-1 * var(--spacing-md)) var(--spacing-md) calc(-1 * var(--spacing-md));
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            font-size: 0.8rem;
            font-weight: 500;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .copy-btn {
            background: var(--blue-accent);
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .copy-btn:hover {
            background: #1976D2;
        }

        /* Listas mejoradas */
        .enhanced-list {
            list-style: none;
            counter-reset: item-counter;
        }

        .enhanced-list li {
            counter-increment: item-counter;
            margin-bottom: var(--spacing-md);
            padding-left: 3rem;
            position: relative;
        }

        .enhanced-list li::before {
            content: counter(item-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: var(--blue-accent);
            color: white;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: var(--spacing-md);
            }

            .header h1 {
                font-size: 2rem;
            }

            .section-nav {
                flex-direction: column;
            }

            .section-nav-btn {
                min-width: auto;
            }

            .section-card {
                padding: var(--spacing-md);
            }
        }

        /* Tablas */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: var(--spacing-md) 0;
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .comparison-table th {
            background: var(--blue-accent);
            color: white;
            padding: var(--spacing-md);
            text-align: left;
            font-weight: 600;
        }

        .comparison-table td {
            padding: var(--spacing-md);
            border-bottom: 1px solid #eee;
        }

        .comparison-table tr:hover {
            background: var(--pastel-blue);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üìö EcoMarket: Gu√≠a de Apoyo para Estudiantes</h1>
            <p>Recursos metodol√≥gicos, t√©cnicos y de IA para maximizar tu aprendizaje en sistemas distribuidos</p>
        </header>

        <!-- Navegaci√≥n de secciones -->
        <nav class="section-nav">
            <button class="section-nav-btn metodologia active" onclick="showSection(0)">
                üéØ Metodolog√≠a de Estudio
            </button>
            <button class="section-nav-btn tecnica" onclick="showSection(1)">
                üíª Referencia T√©cnica
            </button>
            <button class="section-nav-btn ia-prompts" onclick="showSection(2)">
                ü§ñ IA como Compa√±ero
            </button>
            <button class="section-nav-btn debugging" onclick="showSection(3)">
                üîß Troubleshooting
            </button>
        </nav>

        <!-- Secci√≥n 1: Metodolog√≠a de Estudio -->
        <div class="section-card metodologia active" data-section="0">
            <div class="section-header">
                <div class="section-icon">üéØ</div>
                <div class="section-title">
                    <h2>Metodolog√≠a de Estudio para Estudiantes que Trabajan</h2>
                    <p>Estrategias eficientes para maximizar tu tiempo de aprendizaje</p>
                </div>
            </div>

            <h3>‚è∞ Gesti√≥n de Tiempo Realista</h3>
            <p>Considerando que vienes del trabajo y tienes energ√≠a limitada, aqu√≠ est√° una distribuci√≥n realista del tiempo:</p>

            <div class="learning-tip">
                <h3>üí° Tiempos Ajustados por Fatiga</h3>
                <ul>
                    <li><strong>Fase 1 (Conceptos):</strong> 60 min ‚Üí Incluye tiempo para procesar despu√©s del trabajo</li>
                    <li><strong>Fase 2 (C√≥digo):</strong> 120-150 min ‚Üí Considera debugging y errores de setup</li>
                    <li><strong>Fase 3 (Presentaci√≥n):</strong> 45 min ‚Üí Tiempo original es adecuado</li>
                    <li><strong>Fase 4 (Resiliencia):</strong> 45 min ‚Üí M√°s investigaci√≥n y reflexi√≥n</li>
                </ul>
            </div>

            <h3>üß† T√©cnicas de Aprendizaje Profundo</h3>

            <div class="tip-box">
                <h3>üîÑ M√©todo de Espiral Ascendente</h3>
                <p>En lugar de intentar entender todo perfectamente la primera vez:</p>
                <ol class="enhanced-list">
                    <li><strong>Primera pasada (25%):</strong> Entiende el "qu√©" y "por qu√©" general</li>
                    <li><strong>Segunda pasada (50%):</strong> Implementa y haz funcionar el c√≥digo</li>
                    <li><strong>Tercera pasada (75%):</strong> Entiende el "c√≥mo" detalladamente</li>
                    <li><strong>Cuarta pasada (90%):</strong> Conecta con patrones m√°s amplios</li>
                </ol>
            </div>

            <h3>üìù T√©cnica del Diario de Aprendizaje</h3>
            <p>Despu√©s de cada sesi√≥n, dedica 5 minutos a escribir:</p>

            <div class="code-block">
                <div class="code-header">
                    <span>üìî Plantilla de Reflexi√≥n Diaria</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre>FECHA: [HOY]
TIEMPO INVERTIDO: [X minutos]
ENERG√çA AL INICIO: [1-10]

QU√â APREND√ç HOY:
- Concepto clave 1:
- Concepto clave 2:
- Conexi√≥n inesperada:

QU√â ME COST√ì M√ÅS TRABAJO:
- Dificultad t√©cnica:
- Concepto confuso:
- Error que tard√© en resolver:

PREGUNTA PARA MA√ëANA:
- ¬øC√≥mo se conecta X con Y?
- ¬øQu√© pasa si modifico Z?

APLICACI√ìN AL TRABAJO:
- ¬øC√≥mo podr√≠a usar esto en mi contexto laboral?</pre>
            </div>

            <div class="warning-box">
                <h3>‚ö†Ô∏è Se√±ales de Sobrecarga Cognitiva</h3>
                <p><strong>Para cuando notes estas se√±ales:</strong></p>
                <ul>
                    <li>Relees el mismo p√°rrafo 3 veces sin entender</li>
                    <li>Los errores simples se vuelven frustrantes</li>
                    <li>Sientes que "no entiendes nada"</li>
                </ul>
                <p><strong>Acci√≥n:</strong> Toma un descanso de 15 min, camina, hidr√°tate, y regresa al nivel m√°s b√°sico.</p>
            </div>

            <h3>üéØ Estrategia de Estudio Activo</h3>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Estudio Pasivo (Evitar)</th>
                        <th>Estudio Activo (Hacer)</th>
                        <th>Beneficio</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Leer c√≥digo sin ejecutar</td>
                        <td>Escribir y modificar cada ejemplo</td>
                        <td>Comprensi√≥n pr√°ctica</td>
                    </tr>
                    <tr>
                        <td>Memorizar definiciones</td>
                        <td>Explicar conceptos con analog√≠as</td>
                        <td>Retenci√≥n a largo plazo</td>
                    </tr>
                    <tr>
                        <td>Copiar/pegar sin entender</td>
                        <td>Reescribir c√≥digo l√≠nea por l√≠nea</td>
                        <td>Comprensi√≥n profunda</td>
                    </tr>
                    <tr>
                        <td>Estudiar en silencio</td>
                        <td>Explicar en voz alta ("rubber duck")</td>
                        <td>Detectar lagunas de conocimiento</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Secci√≥n 2: Referencia T√©cnica -->
        <div class="section-card tecnica" data-section="1">
            <div class="section-header">
                <div class="section-icon">üíª</div>
                <div class="section-title">
                    <h2>Referencia T√©cnica R√°pida</h2>
                    <p>Conceptos clave, patrones y snippets esenciales</p>
                </div>
            </div>

            <h3>üîë Conceptos Fundamentales que Necesitas Dominar</h3>

            <div class="tip-box">
                <h3>üß≠ Br√∫jula Conceptual</h3>
                <p>Si te pierdes en los detalles, regresa a estos conceptos n√∫cleo:</p>
                <ul>
                    <li><strong>Autonom√≠a:</strong> Cada servicio opera independientemente</li>
                    <li><strong>Comunicaci√≥n As√≠ncrona:</strong> "Fire and forget" vs "Request and wait"</li>
                    <li><strong>Consistencia Eventual:</strong> Los datos se sincronizan "eventualmente"</li>
                    <li><strong>Resiliencia:</strong> El sistema funciona incluso cuando partes fallan</li>
                </ul>
            </div>

            <h3>üìö FastAPI - Recordatorio de Patrones Clave</h3>

            <div class="code-block">
                <div class="code-header">
                    <span>üöÄ Estructura Base de FastAPI</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre># Patr√≥n b√°sico que usar√°s constantemente
from fastapi import FastAPI, HTTPException, BackgroundTasks
from pydantic import BaseModel
from typing import Dict, List, Optional
import logging

# Configuraci√≥n de logging (SIEMPRE incluir)
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

app = FastAPI(
    title="Tu API",
    description="Descripci√≥n clara",
    version="1.0.0"
)

# Modelo de datos (Pydantic valida autom√°ticamente)
class YourModel(BaseModel):
    field1: str
    field2: int
    optional_field: Optional[str] = None

# Endpoint b√°sico con logging
@app.post("/your-endpoint")
async def your_function(data: YourModel, background_tasks: BackgroundTasks):
    logger.info(f"Recibido: {data}")
    
    # Tu l√≥gica aqu√≠
    result = process_data(data)
    
    # Tarea en background (no bloquea respuesta)
    background_tasks.add_task(notify_other_service, result)
    
    return {"status": "success", "result": result}</pre>
            </div>

            <h3>üîÑ Patrones de Comunicaci√≥n As√≠ncrona</h3>

            <div class="code-block">
                <div class="code-header">
                    <span>üì° Cliente HTTP As√≠ncrono con httpx</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre>import httpx
import logging

async def notify_external_service(data: dict, retries: int = 3):
    """
    Patr√≥n: Notificaci√≥n resiliente con reintentos
    """
    for attempt in range(retries):
        try:
            async with httpx.AsyncClient(timeout=5.0) as client:
                response = await client.post(
                    "http://other-service/endpoint",
                    json=data
                )
                
                if response.status_code == 200:
                    logger.info("‚úÖ Notificaci√≥n exitosa")
                    return True
                else:
                    logger.warning(f"‚ö†Ô∏è Respuesta inesperada: {response.status_code}")
                    
        except Exception as e:
            logger.error(f"‚ùå Intento {attempt + 1} fall√≥: {e}")
            if attempt < retries - 1:
                await asyncio.sleep(2 ** attempt)  # Backoff exponencial
    
    logger.error("‚ùå Fall√≥ despu√©s de todos los intentos")
    return False</pre>
            </div>

            <h3>üèóÔ∏è Patrones de Arquitectura</h3>

            <div class="learning-tip">
                <h3>üé® Cu√°ndo Usar Cada Patr√≥n</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Patr√≥n</th>
                            <th>Cu√°ndo Usarlo</th>
                            <th>Ejemplo en EcoMarket</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Request-Response</strong></td>
                            <td>Necesitas respuesta inmediata</td>
                            <td>Consultar inventario local</td>
                        </tr>
                        <tr>
                            <td><strong>Fire-and-Forget</strong></td>
                            <td>La operaci√≥n puede esperar</td>
                            <td>Notificar venta al central</td>
                        </tr>
                        <tr>
                            <td><strong>Event Sourcing</strong></td>
                            <td>Necesitas auditor√≠a completa</td>
                            <td>Historial de cambios de precios</td>
                        </tr>
                        <tr>
                            <td><strong>CQRS</strong></td>
                            <td>Lecturas y escrituras muy diferentes</td>
                            <td>Dashboard vs operaciones de venta</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>üêõ Debugging de Sistemas Distribuidos</h3>

            <div class="code-block">
                <div class="code-header">
                    <span>üîç Logging Estructurado</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre>import logging
import uuid
from datetime import datetime

# Configuraci√≥n de logging mejorada
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)

class CorrelationLogger:
    """Ayuda a seguir requests a trav√©s de servicios"""
    
    def __init__(self, service_name: str):
        self.service_name = service_name
        self.logger = logging.getLogger(service_name)
    
    def start_operation(self, operation: str, data: dict = None):
        correlation_id = str(uuid.uuid4())[:8]
        self.logger.info(
            f"üöÄ [{correlation_id}] Iniciando {operation} | "
            f"Data: {data} | Service: {self.service_name}"
        )
        return correlation_id
    
    def log_step(self, correlation_id: str, step: str, details: str = ""):
        self.logger.info(f"‚ö° [{correlation_id}] {step} | {details}")
    
    def end_operation(self, correlation_id: str, result: str):
        self.logger.info(f"‚úÖ [{correlation_id}] Completado | {result}")

# Uso:
# logger = CorrelationLogger("sucursal-api")
# op_id = logger.start_operation("process_sale", {"product_id": 1})
# logger.log_step(op_id, "validating_stock", "stock: 10")
# logger.end_operation(op_id, "sale_completed")</pre>
            </div>
        </div>

        <!-- Secci√≥n 3: IA como Compa√±ero -->
        <div class="section-card ia-prompts" data-section="2">
            <div class="section-header">
                <div class="section-icon">ü§ñ</div>
                <div class="section-title">
                    <h2>IA como Compa√±ero de Aprendizaje</h2>
                    <p>Prompts efectivos para profundizar conocimiento y acelerar desarrollo</p>
                </div>
            </div>

            <h3>üéØ Estrategia de Uso de IA</h3>

            <div class="ai-prompt-box">
                <h3>üß† Principio Fundamental</h3>
                <p>No uses IA para <strong>evitar</strong> pensar, √∫sala para <strong>pensar mejor</strong>. La IA debe amplificar tu entendimiento, no reemplazarlo.</p>
            </div>

            <h3>üìö Prompts para Fundamentar Decisiones</h3>

            <div class="code-block">
                <div class="code-header">
                    <span>ü§î An√°lisis de Decisiones Arquitect√≥nicas</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre>PROMPT: Analiza esta decisi√≥n arquitect√≥nica

Contexto: Estoy desarrollando EcoMarket, un sistema de inventario distribuido para m√∫ltiples sucursales.

Decisi√≥n que tom√©: [Describe tu decisi√≥n espec√≠fica]

Mi razonamiento: [Explica por qu√© lo decidiste as√≠]

Pregunta para ti:
1. ¬øQu√© ventajas y desventajas adicionales ves en esta decisi√≥n?
2. ¬øQu√© problemas podr√≠an surgir al escalar a 100 sucursales?
3. ¬øHay alg√∫n patr√≥n de arquitectura conocido que se aplique aqu√≠?
4. ¬øQu√© preguntas deber√≠a hacerme antes de implementar esto?

Por favor, critica constructivamente mi razonamiento y sugiere mejoras espec√≠ficas.</pre>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <span>‚öñÔ∏è An√°lisis de Trade-offs</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre>PROMPT: Ay√∫dame a analizar trade-offs

Estoy decidiendo entre [Opci√≥n A] y [Opci√≥n B] para [problema espec√≠fico] en EcoMarket.

Opci√≥n A: [Describe]
- Ventajas que veo: [lista]
- Desventajas que veo: [lista]

Opci√≥n B: [Describe]
- Ventajas que veo: [lista]
- Desventajas que veo: [lista]

Contexto adicional:
- Los usuarios son: [perfil de usuarios]
- El volumen esperado es: [datos]
- Las restricciones son: [limitaciones]

¬øQu√© trade-offs importantes estoy pasando por alto? ¬øHay una tercera opci√≥n que deber√≠a considerar?</pre>
            </div>

            <h3>üíª Prompts para C√≥digo Complejo</h3>

            <div class="tip-box">
                <h3>üé® Estrategia: C√≥digo Incremental</h3>
                <p>No pidas a la IA que escriba todo el c√≥digo de una vez. Construye incrementalmente:</p>
                <ol class="enhanced-list">
                    <li><strong>Primero:</strong> Pide que explique el enfoque general</li>
                    <li><strong>Segundo:</strong> Pide que escriba la estructura b√°sica</li>
                    <li><strong>Tercero:</strong> Pide que agregue una caracter√≠stica espec√≠fica</li>
                    <li><strong>Cuarto:</strong> Pide que explique cada l√≠nea importante</li>
                </ol>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <span>üèóÔ∏è Construyendo C√≥digo Paso a Paso</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre>PROMPT FASE 1 - Estrategia:
Necesito implementar [funcionalidad espec√≠fica] en mi API de FastAPI.

Contexto: [describe tu sistema actual]
Objetivo: [qu√© quieres lograr]
Restricciones: [limitaciones t√©cnicas o de negocio]

Antes de escribir c√≥digo, expl√≠came:
1. ¬øCu√°l ser√≠a el enfoque general m√°s adecuado?
2. ¬øQu√© patrones de dise√±o aplicar√≠an aqu√≠?
3. ¬øQu√© podr√≠a salir mal y c√≥mo prevenirlo?

---

PROMPT FASE 2 - Estructura:
Bas√°ndome en tu explicaci√≥n anterior, ahora mu√©strame:
1. La estructura b√°sica de clases/funciones
2. Los imports necesarios  
3. La signatura de las funciones principales
4. Comentarios explicando la l√≥gica general

NO escribas la implementaci√≥n completa todav√≠a.

---

PROMPT FASE 3 - Implementaci√≥n:
Ahora implementa la funci√≥n [nombre espec√≠fico] con:
- Manejo de errores robusto
- Logging para debugging
- Documentaci√≥n clara
- Type hints apropiados

Explica cada decisi√≥n importante que tomes en el c√≥digo.</pre>
            </div>

            <h3>üîç Prompts para Revisi√≥n de C√≥digo</h3>

            <div class="code-block">
                <div class="code-header">
                    <span>üë• Code Review con IA</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre>PROMPT: Act√∫a como un arquitecto senior revisando mi c√≥digo

Aqu√≠ est√° mi implementaci√≥n:

```python
[tu c√≥digo aqu√≠]
```

Por favor revisa espec√≠ficamente:

1. **Arquitectura**: ¬øSigue buenas pr√°cticas de sistemas distribuidos?
2. **Resiliencia**: ¬øQu√© pasa si [servicio X] se cae?
3. **Escalabilidad**: ¬øFuncionar√° con 100x m√°s tr√°fico?
4. **Mantenibilidad**: ¬øUn nuevo desarrollador lo entender√≠a?
5. **Seguridad**: ¬øHay vulnerabilidades obvias?

Para cada problema que encuentres:
- Explica POR QU√â es un problema
- Sugiere una soluci√≥n espec√≠fica
- Muestra un ejemplo de c√≥digo mejorado

S√© espec√≠fico y cr√≠tico, como si fuera para producci√≥n.</pre>
            </div>

            <h3>üöÄ Prompts para Explorar Patrones Avanzados</h3>

            <div class="code-block">
                <div class="code-header">
                    <span>üî¨ Exploraci√≥n de Patrones</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre>PROMPT: Explora patrones para mi caso espec√≠fico

Mi sistema actual: [describe EcoMarket tal como lo tienes]

Problema espec√≠fico que enfrento: [ej: "Las notificaciones a veces fallan y no tengo visibilidad"]

He o√≠do de estos patrones:
- [Pattern 1, ej: Circuit Breaker]
- [Pattern 2, ej: Event Sourcing]  
- [Pattern 3, ej: Saga Pattern]

Para cada patr√≥n:
1. Expl√≠calo con una analog√≠a simple
2. ¬øC√≥mo se aplicar√≠a espec√≠ficamente a mi problema?
3. Muestra un ejemplo de c√≥digo m√≠nimo pero funcional
4. ¬øQu√© nueva complejidad introduce?
5. ¬øVale la pena para mi escala actual?

Termina recomendando cu√°l implementar primero y por qu√©.</pre>
            </div>

            <div class="warning-box">
                <h3>‚ö†Ô∏è Evita Estos Antipatrones con IA</h3>
                <ul>
                    <li><strong>Copy-paste ciego:</strong> Siempre entiende el c√≥digo antes de usarlo</li>
                    <li><strong>Sobredependencia:</strong> Si no puedes explicar lo que hace, no lo uses</li>
                    <li><strong>Falta de validaci√≥n:</strong> La IA puede dar c√≥digo que compila pero no funciona bien</li>
                    <li><strong>Prompts vagos:</strong> "Hazme un sistema distribuido" no ayuda</li>
                </ul>
            </div>
        </div>

        <!-- Secci√≥n 4: Troubleshooting -->
        <div class="section-card debugging" data-section="3">
            <div class="section-header">
                <div class="section-icon">üîß</div>
                <div class="section-title">
                    <h2>Troubleshooting Avanzado</h2>
                    <p>Soluciones a problemas comunes y t√©cnicas de debugging</p>
                </div>
            </div>

            <h3>üö® Problemas M√°s Comunes y Sus Soluciones</h3>

            <div class="warning-box">
                <h3>üî• Error: "Connection Refused" entre servicios</h3>
                <p><strong>S√≠ntomas:</strong> La sucursal no puede conectarse al central</p>
                <p><strong>Diagn√≥stico paso a paso:</strong></p>
                <ol>
                    <li>Verifica que ambos servicios est√©n corriendo: <code>curl http://localhost:8000</code></li>
                    <li>Checa que los puertos est√©n correctos en el c√≥digo</li>
                    <li>Revisa firewall/antivirus que pueda bloquear conexiones locales</li>
                    <li>Si usas Docker: verifica que los containers est√©n en la misma red</li>
                </ol>
            </div>

            <div class="warning-box">
                <h3>üîÑ Error: "Task was destroyed but it is pending"</h3>
                <p><strong>S√≠ntomas:</strong> Warnings al cerrar FastAPI con BackgroundTasks</p>
                <p><strong>Soluci√≥n:</strong></p>
                <div class="code-block">
                    <div class="code-header">
                        <span>‚úÖ Shutdown Limpio</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
<pre>import asyncio
from contextlib import asynccontextmanager

@asynccontextmanager
async def lifespan(app: FastAPI):
    # Startup
    yield
    # Shutdown - dar tiempo a background tasks
    await asyncio.sleep(1)  # Permite que terminen las tareas

app = FastAPI(lifespan=lifespan)</pre>
                </div>
            </div>

            <h3>üîç T√©cnicas Avanzadas de Debugging</h3>

            <div class="tip-box">
                <h3>üïµÔ∏è Debugging de Comunicaci√≥n As√≠ncrona</h3>
                <p>Los sistemas distribuidos son m√°s dif√≠ciles de debuggear porque los errores pueden estar en cualquier servicio.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <span>üìä Middleware de Debugging</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre>from fastapi import Request, Response
import time
import uuid

@app.middleware("http")
async def debug_middleware(request: Request, call_next):
    # Generar ID √∫nico para cada request
    request_id = str(uuid.uuid4())[:8]
    start_time = time.time()
    
    # Log request
    logger.info(
        f"üîµ [{request_id}] {request.method} {request.url.path} | "
        f"Headers: {dict(request.headers)}"
    )
    
    # Procesar request
    response = await call_next(request)
    
    # Log response
    duration = time.time() - start_time
    logger.info(
        f"üü¢ [{request_id}] {response.status_code} | "
        f"Duration: {duration:.3f}s"
    )
    
    # Agregar ID a headers para seguimiento
    response.headers["X-Request-ID"] = request_id
    return response</pre>
            </div>

            <h3>üß™ Testing de Sistemas Distribuidos</h3>

            <div class="code-block">
                <div class="code-header">
                    <span>üé≠ Simulando Fallos para Testing</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre>import pytest
import httpx
from unittest.mock import patch
import asyncio

# Test de resiliencia: ¬øqu√© pasa si el central est√° ca√≠do?
@pytest.mark.asyncio
async def test_sale_works_when_central_is_down():
    """La venta debe completarse localmente incluso si central falla"""
    
    with patch('httpx.AsyncClient.post') as mock_post:
        # Simular que central est√° ca√≠do
        mock_post.side_effect = httpx.ConnectError("Connection refused")
        
        # Hacer una venta
        async with httpx.AsyncClient() as client:
            response = await client.post(
                "http://localhost:8001/sales",
                json={"product_id": 1, "quantity": 2}
            )
        
        # La venta debe completarse a pesar del fallo
        assert response.status_code == 200
        assert "completed" in response.json()["status"]

# Test de integraci√≥n: flujo completo
@pytest.mark.asyncio  
async def test_full_integration_flow():
    """Test del flujo completo: venta + notificaci√≥n"""
    
    # 1. Hacer venta en sucursal
    async with httpx.AsyncClient() as client:
        sale_response = await client.post(
            "http://localhost:8001/sales",
            json={"product_id": 1, "quantity": 1}
        )
    
    assert sale_response.status_code == 200
    
    # 2. Esperar que la notificaci√≥n llegue al central
    await asyncio.sleep(2)  # Dar tiempo a background task
    
    # 3. Verificar que el inventario central se actualiz√≥
    async with httpx.AsyncClient() as client:
        inventory_response = await client.get("http://localhost:8000/inventory")
    
    products = inventory_response.json()
    product_1 = next(p for p in products if p["id"] == 1)
    assert product_1["stock"] < 100  # Debe haberse reducido</pre>
            </div>

            <h3>üìä Monitoreo y Observabilidad</h3>

            <div class="learning-tip">
                <h3>üëÄ Qu√© Monitorear en Producci√≥n</h3>
                <ul>
                    <li><strong>M√©tricas de negocio:</strong> Ventas por minuto, inventario disponible</li>
                    <li><strong>M√©tricas t√©cnicas:</strong> Latencia, error rate, throughput</li>
                    <li><strong>M√©tricas de infraestructura:</strong> CPU, memoria, red</li>
                    <li><strong>M√©tricas de comunicaci√≥n:</strong> Fallos de notificaci√≥n, reintentos</li>
                </ul>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <span>üìà M√©tricas Simples con FastAPI</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
<pre>from collections import defaultdict
from datetime import datetime
import time

# Contador simple de m√©tricas
metrics = {
    "sales_count": 0,
    "sales_revenue": 0.0,
    "notification_failures": 0,
    "avg_response_time": [],
    "last_reset": datetime.now()
}

@app.middleware("http")
async def metrics_middleware(request: Request, call_next):
    start_time = time.time()
    response = await call_next(request)
    duration = time.time() - start_time
    
    # Registrar tiempo de respuesta
    metrics["avg_response_time"].append(duration)
    
    # Mantener solo los √∫ltimos 100 requests
    if len(metrics["avg_response_time"]) > 100:
        metrics["avg_response_time"].pop(0)
    
    return response

@app.get("/metrics")
async def get_metrics():
    """Endpoint para monitoreo"""
    avg_time = (
        sum(metrics["avg_response_time"]) / len(metrics["avg_response_time"])
        if metrics["avg_response_time"] else 0
    )
    
    return {
        "sales_completed": metrics["sales_count"],
        "total_revenue": metrics["sales_revenue"],
        "avg_response_time_ms": round(avg_time * 1000, 2),
        "notification_failures": metrics["notification_failures"],
        "uptime_since": metrics["last_reset"].isoformat()
    }</pre>
            </div>

            <div class="tip-box">
                <h3>üîß Herramientas √ötiles para Desarrollo</h3>
                <ul>
                    <li><strong>httpx CLI:</strong> <code>pip install httpx[cli]</code> para testing r√°pido</li>
                    <li><strong>FastAPI docs:</strong> Siempre disponibles en <code>/docs</code></li>
                    <li><strong>Postman/Insomnia:</strong> Para testing de APIs m√°s complejo</li>
                    <li><strong>Docker Compose:</strong> Para orquestar m√∫ltiples servicios</li>
                    <li><strong>VS Code REST Client:</strong> Testing integrado en el editor</li>
                </ul>
            </div>
        </div>

        <!-- Footer -->
        <footer style="text-align: center; padding: 2rem; margin-top: 2rem; background: white; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md);">
            <h3 style="color: var(--green-accent); margin-bottom: 1rem;">üéì Recursos Adicionales</h3>
            <p>Esta gu√≠a es tu compa√±ero constante. Gu√°rdala, impr√≠mela, y regresa a ella siempre que necesites claridad o direcci√≥n en tu aprendizaje.</p>
            <div style="margin-top: 1.5rem; display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
                <div style="background: var(--pastel-blue); padding: 1rem; border-radius: var(--border-radius); min-width: 200px;">
                    <strong>üìö Para profundizar:</strong><br>
                    Microservices Patterns (Chris Richardson)
                </div>
                <div style="background: var(--pastel-green); padding: 1rem; border-radius: var(--border-radius); min-width: 200px;">
                    <strong>üõ†Ô∏è Para practicar:</strong><br>
                    Building Microservices (Sam Newman)
                </div>
                <div style="background: var(--pastel-purple); padding: 1rem; border-radius: var(--border-radius); min-width: 200px;">
                    <strong>üéØ Para implementar:</strong><br>
                    FastAPI Documentation
                </div>
            </div>
        </footer>
    </div>

    <script>
        let currentSection = 0;

        function showSection(sectionIndex) {
            // Ocultar todas las secciones
            document.querySelectorAll('.section-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // Mostrar la secci√≥n seleccionada
            document.querySelector(`.section-card[data-section="${sectionIndex}"]`).classList.add('active');
            
            // Actualizar navegaci√≥n
            document.querySelectorAll('.section-nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.section-nav-btn')[sectionIndex].classList.add('active');
            
            currentSection = sectionIndex;
        }

        function copyCode(button) {
            const codeBlock = button.parentElement.nextElementSibling;
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = '¬°Copiado!';
                button.style.background = '#4CAF50';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '#2196F3';
                }, 2000);
            });
        }

        // Navegaci√≥n con teclado
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' && currentSection < 3) {
                showSection(currentSection + 1);
            } else if (e.key === 'ArrowLeft' && currentSection > 0) {
                showSection(currentSection - 1);
            }
        });
    </script>
</body>
</html>